<div class="documents-wrapper" [class.documents-wrapper--open]="isMenuOpen">
	<div class="documents-container">
		<div class="documents-list">
			<div class="documents-main">
				<div class="balance-block">
					<h2 class="balance-title">
						Balance: {{ getBudgetBalance() }}
						<span class="currency"
							>{{ selectedBudget?.currency }}</span
						>
					</h2>

					<div class="summary">
						<span
							id="incomeTotal"
							[class.active]="selectedType === 'income'"
							(click)="selectType('income')"
						>
							Income
						</span>
						<span
							id="expenseTotal"
							[class.active]="selectedType === 'expense'"
							(click)="selectType('expense')"
						>
							Expense
						</span>
					</div>
					<div class="circle-chart" [ngStyle]="circleChartStyle">
						<div class="circle-chart-inner">
							{{ getCircleTotal() }}
							<span class="currency"
								>{{ selectedBudget?.currency }}</span
							>
						</div>
					</div>
				</div>

				<div class="documents-main-content">
					<div class="categories" *ngIf="!selectedUnit">
						<h3></h3>
						<div
							class="category"
							*ngFor="let unit of getFilteredUnits()"
						>
							<span
								class="legend-color"
								[style.background]="getColorForUnit(unit)"
							></span>
							<span class="note">{{ unit.name }}</span>
							<span class="amount"
								>{{ unit.totalAmount! >= 0 ? ' +' : '' }}{{
								unit.totalAmount }}
								<span class="currency"
									>{{ selectedBudget?.currency }}</span
								></span
							>
						</div>
					</div>

					<div *ngIf="selectedUnit">
						<div
							class="categories"
							*ngIf="filteredTransactions.length > 0"
						>
							<div
								class="category"
								*ngFor="let transaction of filteredTransactions"
							>
								<span
									class="legend-color"
									[style.background]="getColorForTransaction(transaction)"
								></span>
								<span class="note"
									>{{ transaction.note || '' }}</span
								>
								<span class="amount"
									>{{ transaction.isDeposit ? '+' : '-' }}{{
									transaction.amount }}
									<span class="currency"
										>{{ selectedBudget?.currency }}</span
									></span
								>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
