<div class="documents-wrapper" [class.documents-wrapper--open]="isMenuOpen">
	<div class="documents-container">
		<div class="documents-list">
			<div class="documents-main">
				<!-- Кругова діаграма і загальна сума -->
				<div class="circle-block">
					<div class="documents__title">Dashboard</div>
					<div class="circle-chart" [ngStyle]="circleChartStyle">
						<div class="circle-chart-inner">
							{{ getTotalAmount() }} ₴
						</div>
					</div>
					<div class="summary">
						<span id="incomeTotal">{{ getIncomeTotal() }} ₴</span>
						<span id="expenseTotal">{{ getExpenseTotal() }} ₴</span>
					</div>
				</div>

				<div class="documents-main-content">
					<!-- Якщо обраний бюджет, але ще не обрано юніт -->
					<div *ngIf="selectedBudget && !selectedUnit">
						<h3>Виберіть юніт</h3>
						<div class="categories units-list">
							<div
								class="category unit-item"
								*ngFor="let unit of units"
								(click)="selectUnit(unit._id)"
								[class.unit-selected]="unit._id === selectedUnit"
							>
								<span class="unit-name">{{ unit.name }}</span>
								<span class="amount">{{ unit.cost }} ₴</span>
							</div>
						</div>
					</div>

					<!-- Транзакції обраного юніта -->
					<div *ngIf="selectedUnit">
						<h3>Транзакції для обраного юніта</h3>

						<div
							*ngIf="filteredTransactions.length > 0"
							class="categories"
						>
							<div
								class="category"
								*ngFor="let transaction of filteredTransactions"
							>
								<span
									class="legend-color"
									[style.background]="getColorForTransaction(transaction)"
								></span>
								<span class="isDeposit">
									{{ transaction.isDeposit ? 'Income' :
									'Expense' }}
								</span>
								<span class="note"
									>{{ transaction.note || 'Без категорії'
									}}</span
								>
								<span class="amount"
									>{{ transaction.amount }} ₴</span
								>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
